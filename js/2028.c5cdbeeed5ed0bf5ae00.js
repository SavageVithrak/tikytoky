"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2028],{40207:(e,t,i)=>{i.d(t,{Z:()=>Ji});var o,n=i(11040),a=i(3624),r=i(9236),l=i(16926),s=i(91051),d=i(88075),c=i(33367),u=i(89858),p=i(8697),m=i(83421),h=i(74472),g=i(76967),v=i(14870),x=i(47127),f=i(62321),b=i(56785),y=i(13033),k=i(16929),j=i(52053),_=i(8456),w=i(90035),C=i(20417),P=i(5100),S=i(3451),I=i(20390),T=i(144),M=i(8721),D=i(94806),O=i(4139),L=i(27918);function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e}).apply(this,arguments)}var E;function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e}).apply(this,arguments)}const R=(0,O.Z)((function(e){return s.createElement("svg",Z({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 65 108",width:"1em",height:"1em"},e),E||(E=s.createElement("path",{fill:"white",d:"M32.5 0C14.7 0 0 15.586 0 34.732v38.413C0 92.415 14.7 108 32.5 108 50.415 108 65 92.29 65 73.268V34.732C65.113 15.586 50.414 0 32.5 0zm5.397 39.64c0 3.192-2.411 5.77-5.397 5.77s-5.398-2.578-5.398-5.77V24.056c0-3.191 2.412-5.769 5.398-5.769 2.986 0 5.397 2.578 5.397 5.768v15.587z"})))}),{target:"e11xypj00"})({width:"65px",height:"108px"},"label:StyledMouseIcon;"),W=(0,O.Z)((function(e){return s.createElement("svg",B({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 40 48",width:"1em",height:"1em"},e),o||(o=s.createElement("path",{fill:"white",d:"M9.592 23.001l5.658-5.658v25.461c0 2.829 2.337 5.166 5.166 5.166s5.166-2.337 5.166-5.166V17.343l5.658 5.658a5.135 5.135 0 003.567 1.476 4.926 4.926 0 003.567-1.476c1.968-1.968 1.968-5.289 0-7.257L23.983 1.476c-1.968-1.968-5.289-1.968-7.257 0L2.335 15.867c-1.968 1.968-1.968 5.289 0 7.257s5.289 1.968 7.257-.123z"})))}),{target:"e11xypj01"})({width:"39px",height:"48px"},"label:StyledArrowIcon;"),V=(0,O.Z)("div",{target:"e11xypj02"})({width:"39px",height:"108px",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"},"label:DivArrowContainer;"),A=(0,O.Z)("div",{target:"e11xypj03"})({width:"112px",height:"108px",display:"flex",justifyContent:"space-between",marginBottom:"24px"},"label:DivIconContainer;"),F=(0,O.Z)("h3",{target:"e11xypj04"})((({theme:e})=>[(0,L.GI)({theme:e,typography:"H3",fontFamily:"Sofia",fontWeight:"semiBold"}),{color:"#FFF",marginBottom:7}]),"label:H3Title;"),G=(0,O.Z)("p",{target:"e11xypj05"})((({theme:e})=>[(0,L.GI)({theme:e,typography:"P2",fontFamily:"Proxima"}),{color:"#FFF",marginBottom:"24px"}]),"label:PDescription;"),z=(0,O.Z)("button",{target:"e11xypj06"})((({theme:e})=>[(0,L.GI)({theme:e,typography:"P2",fontFamily:"Proxima",fontWeight:"semiBold"}),{color:e.colors.ConstTextInverse,border:"none",outline:"none",cursor:"pointer",minWidth:"360px",height:"46px",borderRadius:"4px",backgroundColor:e.colors.Primary,display:"flex",justifyContent:"center",alignItems:"center"}]),"label:ButtonGotIt;"),N=(0,O.Z)("div",{target:"e11xypj07"})({display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},"label:DivContainer;"),q=(0,s.memo)((function(){const[{onboardingShowing:e},t]=(0,r.b7)(I._),i=(0,s.useRef)(!1),o=(0,M.Q)(),a=o("webapp_feed_redesign_overlay_head"),l=o("webapp_feed_redesign_overlay_copy"),d=o("Got it"),[{mute:c},{setMute:u,setVolume:p}]=(0,r.b7)(b.x),m=(0,s.useCallback)((()=>{var e,o;c&&(u(null!==(e=y.Bv.getItem("muted"))&&void 0!==e?e:k.P[3].defaultMute),p(null!==(o=y.Bv.getItem("volume"))&&void 0!==o?o:k.G)),i.current=!1,t.setOnboardingShowing(!1),D.Fx.handleNewUserGuideClose({play_mode:"large_video_mode"})}),[c,u,p,t]),h=(0,s.useCallback)((t=>{const i=["ArrowUp","ArrowDown"].includes(t.key);e&&i&&setTimeout((()=>{m()}),500)}),[m,e]);return(0,s.useEffect)((()=>{y.F3.getItem("swiper_onboarding_shown")||(t.setOnboardingShowing(!0),i.current=!0,D.Fx.handleNewUserGuideShow({play_mode:"large_video_mode"}),y.F3.setItem("swiper_onboarding_shown",!0))}),[m,e,t]),(0,s.useEffect)((()=>(window.addEventListener("keydown",h),()=>{window.removeEventListener("keydown",h)})),[h]),(0,n.jsx)(T.AR,Object.assign({isOpen:e,zIndex:10009,onClose:m,transparent:!0},{children:(0,n.jsxs)(N,{children:[(0,n.jsxs)(A,{children:[(0,n.jsx)(R,{},void 0),(0,n.jsxs)(V,{children:[(0,n.jsx)(W,{},void 0),(0,n.jsx)(W,{style:{transform:"rotateZ(180deg)"}},void 0)]},void 0)]},void 0),(0,n.jsx)(F,{children:a},void 0),(0,n.jsx)(G,{children:l},void 0),(0,n.jsx)(z,Object.assign({onClick:m},{children:d}),void 0)]},void 0)}),void 0)}));var U=i(53134);const $=(0,O.Z)("div",{target:"e5hm6ro0"})((({theme:{colors:e}})=>({background:e.BGPrimary,position:"relative",overflow:"hidden",flex:1,height:"100%"})),"label:DivVideoContainer;"),H=(0,O.Z)("div",{target:"e5hm6ro1"})({position:"absolute",width:"100%",height:"100%",filter:"blur(30px)",opacity:.5},"label:DivBlurBackground;"),Y=(0,O.Z)("div",{target:"e5hm6ro2"})({position:"absolute",left:"0",top:"0",width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)"},"label:DivBlurBackgroundImageMask;"),K=(0,O.Z)("div",{target:"e5hm6ro3"})({position:"absolute",left:"0",top:"0",width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.2)",zIndex:100},"label:DivBlurBackgroundMask;"),J=(0,O.Z)("div",{target:"e5hm6ro4"})({position:"absolute",width:"100%",height:"100%",overflow:"hidden",left:"0",top:"0",borderRadius:"4px"},"label:DivBlurBackgroundWrapper;"),Q=(0,O.Z)("div",{target:"e5hm6ro5"})({width:"calc(100% - 48px)",minWidth:"751px",margin:"0 24px",height:"100%",cursor:"pointer",position:"relative",display:"flex",flexDirection:"row",alignItems:"center",borderRadius:"4px"},"label:DivVideoWrapper;"),X=(0,O.Z)(Q,{target:"e5hm6ro6"})({margin:"24px 24px 0",height:"calc(100% - 24px)"},"label:StyledDivVideoWrapperForSwiper;"),ee=(0,O.Z)("div",{target:"e5hm6ro7"})({position:"relative",display:"flex",width:"100%",height:"100%"},"label:DivVideoLeftWrapper;"),te=(0,O.Z)("div",{target:"e5hm6ro8"})((({theme:{direction:e}})=>[(0,L.YJ)({direction:e}),{position:"absolute",bottom:"0",width:"100%",h4:{marginBottom:"0 !important"}}]),"label:DivVideoCaptionContainer;"),ie=(0,O.Z)("div",{target:"e5hm6ro9"})((({theme:{direction:e}})=>[(0,L.YJ)({direction:e,end:"16px"}),{position:"absolute",bottom:"24px",display:"flex",flexDirection:"column",alignItems:"center",boxSizing:"border-box",transition:"width 200ms cubic-bezier(.65, 0, .35, 1)",borderRadius:"0 4px 4px 0"}]),"label:DivActionContainer;"),oe=(0,O.Z)("div",{target:"e5hm6ro10"})((({isActive:e=!1})=>({position:"relative",width:(e?360:0)+"px",height:"100%",transform:"translateZ(0)",background:"#f8f8f8",borderRadius:"0 4px 4px 0",flexShrink:0,transition:"width 200ms cubic-bezier(.65, 0, .35, 1)"})),"label:DivCommentContainer;"),ne=(0,O.Z)(U.Z,{target:"e5hm6ro12"})({width:"72px",height:"72px",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},"label:StyledPlayIcon;"),ae=(0,O.Z)("div",{target:"e5hm6ro13"})({marginBottom:"16px",paddingInlineStart:"16px",boxSizing:"border-box",width:"calc(100% - 160px)"},"label:DivCaptionContainer;"),re=(0,O.Z)("div",{target:"e5hm6ro14"})({position:"absolute",left:"0",top:"0",width:"100%"},"label:DivWarnInfoWrapper;"),le=(0,O.Z)("div",{target:"e5hm6ro15"})({position:"absolute",left:"0",bottom:"-56px",height:"32px",width:"100%",background:"#121212",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"4px 4px 0 0"},"label:DivEndTextWrapper;"),se=(0,O.Z)("p",{target:"e5hm6ro16"})((({theme:e})=>[(0,L.GI)({theme:e,typography:"P2",fontFamily:"Proxima",fontWeight:"semiBold",color:"ConstTextInverse"})]),"label:PEndText;");var de,ce=i(43226),ue=i.n(ce),pe=i(91497),me=i(34708),he=i(48036),ge=i(12853),ve=i(81578),xe=i(13964),fe=i(29910),be=i(56344),ye=i(93797);!function(e){e.VideoLimitNotify="video_limit_notify",e.LoginEntranceClick="login_entrance_click",e.CommentLoginGuideShow="comment_login_guide_show",e.VideoLoginGuideShow="video_login_guide_show",e.VideoLoginGuideClick="video_login_guide_click"}(de||(de={}));var ke=i(2734),je=i(33104),_e=i(97446),we=i(93583),Ce=i(97801),Pe=i(61453),Se=i(32913),Ie=i(80537);const Te=(0,Se.Z)("div",{target:"emcuf7j0"})({flex:"1 1 0%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"0 60px",textAlign:"center"},"label:DivFrameWrapper;"),Me=(0,Se.Z)(Te,{target:"emcuf7j1"})({padding:"0 32px",background:"#f8f8f8"},"label:StyledDivFrameWrapper;"),De=(0,Se.Z)("h4",{target:"emcuf7j2"})((({theme:e})=>(0,L.GI)({theme:e,typography:"H4",fontWeight:"bold",fontFamily:"Sofia"})),{marginBottom:"8px"},"label:H4LoginTitle;");De.defaultProps=Object.assign(Object.assign({},De.defaultProps),{"data-e2e":"see-comment"});const Oe=(0,Se.Z)("p",{target:"emcuf7j3"})((({theme:e})=>(0,L.GI)({theme:e,typography:"P0",fontWeight:"bold",fontFamily:"Proxima",color:"TextPrimary"})),{marginBottom:"8px"},"label:PLoginTitle;");Oe.defaultProps=Object.assign(Object.assign({},Oe.defaultProps),{"data-e2e":"see-comment"});const Le=(0,Se.Z)("p",{target:"emcuf7j4"})((({theme:e})=>(0,L.GI)({theme:e,typography:"P2",color:"TextSecondary"})),{marginBottom:"20px"},"label:PLoginDesc;");Le.defaultProps=Object.assign(Object.assign({},Le.defaultProps),{"data-e2e":"see-comment-text"});const Be=(0,Se.Z)("p",{target:"emcuf7j5"})((({theme:e})=>(0,L.GI)({theme:e,typography:"P3",color:"TextSecondary"})),{marginBottom:"22px"},"label:PLoginDescForPanel;");Be.defaultProps=Object.assign(Object.assign({},Be.defaultProps),{"data-e2e":"see-comment-text"});const Ee=(0,Se.Z)(Ie.W,{target:"emcuf7j6"})({marginBottom:"20px",display:"block",width:"100%"},"label:StyledButton;");Ee.defaultProps=Object.assign(Object.assign({},Ee.defaultProps),{"data-e2e":"browse-login-button"});const Ze=(0,Se.Z)("p",{target:"emcuf7j7"})((({theme:e})=>(0,L.GI)({theme:e,typography:"P2"})),"label:PLoginHint;");Ze.defaultProps=Object.assign(Object.assign({},Ze.defaultProps),{"data-e2e":"browse-signup-text"});const Re=(0,Se.Z)(Ze,{target:"emcuf7j8"})((({theme:e})=>({color:e.colors.TextSecondary})),"label:StyledPLoginHint;");Re.defaultProps=Object.assign(Object.assign({},Re.defaultProps),{"data-e2e":"browse-signup-text"});const We=(0,Se.Z)("a",{target:"emcuf7j9"})((({theme:{colors:e,fontWeights:t}})=>({color:e.Primary,fontWeight:t.semiBold,":hover, :active":{color:e.Primary}})),"label:ASignUp;");We.defaultProps=Object.assign(Object.assign({},We.defaultProps),{"data-e2e":"browse-signup-entrance"});const Ve=function({isPanelType:e=!1}){const t=(0,M.Q)(),i=(0,r.qj)(Pe.r),o=(0,s.useCallback)((e=>t=>{t.preventDefault(),t.stopPropagation(),i.openModal({isSignup:e,query:{enter_method:"click_comment"}})}),[i]);return e?(0,n.jsxs)(Me,{children:[(0,n.jsx)(Oe,{children:t("login_comment_h1")},void 0),(0,n.jsx)(Be,{children:t("login_comment_h2")},void 0),(0,n.jsx)(Ee,Object.assign({buttonTheme:"primary",size:"large",onClick:o(!1)},{children:t("Log In")}),void 0),(0,n.jsxs)(Re,{children:[t("login_comment_h3"),(0,n.jsx)(We,Object.assign({onClick:o(!0)},{children:t("profile_unlogged_button")}),void 0)]},void 0)]},void 0):(0,n.jsxs)(Te,{children:[(0,n.jsx)(De,{children:t("login_comment_h1")},void 0),(0,n.jsx)(Le,{children:t("login_comment_h2")},void 0),(0,n.jsx)(Ee,Object.assign({buttonTheme:"primary",size:"large",onClick:o(!1)},{children:t("Log In")}),void 0),(0,n.jsxs)(Ze,{children:[t("login_comment_h3"),(0,n.jsx)(We,Object.assign({onClick:o(!0)},{children:t("profile_unlogged_button")}),void 0)]},void 0)]},void 0)};var Ae=i(46562);const Fe=(0,s.memo)((function(e){var t,i;const{itemListKey:o,currentIndex:a,teaParams:l,isActive:d=!1,isOpen:c=!1,commentCount:u,onClickLink:p}=e,m=(0,M.Q)(),{isRTL:v}=(0,pe.Y)(),x=(0,s.useRef)(null),{user:f}=null!==(t=(0,me.L)((()=>["user"]),[]))&&void 0!==t?t:{},b=Boolean(f),y=(0,ke.BT)(u),k=(0,s.useMemo)((()=>({background:"#f1f1f1",padding:"16px",margin:"0"})),[]),j=(0,r.mp)(h.h,{selector:e=>{const t=e[null!=o?o:""];return t?{id:t.browserList[a],listLength:t.browserList.length}:null},dependencies:[o,a]}),[_]=(0,r.b7)(g.A,{selector:e=>{var t;return e[null!==(t=null==j?void 0:j.id)&&void 0!==t?t:""]},dependencies:[j]}),C=null!==(i=null==_?void 0:_.id)&&void 0!==i?i:"",P=(0,je.p)(null==_?void 0:_.author),S=(0,s.useMemo)((()=>3===(null==_?void 0:_.itemCommentStatus)||3===(null==P?void 0:P.commentSetting)),[null==P?void 0:P.commentSetting,null==_?void 0:_.itemCommentStatus]),I=(0,s.useMemo)((()=>(0,ke.sA)(P,null==f?void 0:f.uid)),[P,null==f?void 0:f.uid]),T=(0,Ce.Ui)({id:C}),{videoReportParams:D,commentPanelTeaParams:O}=(0,s.useMemo)((()=>{const{video:{bitrate:e=-1,encodedType:t="",format:i="",videoQuality:o="",encodeUserTag:n="",codecType:a="",definition:r=""}={},authorId:s="",id:d="",scheduleTime:c}=null!=_?_:{},u=Object.assign({author_id:s,group_id:d,is_scheduled:Boolean(c),bitrate:Number(e),encodedType:t,format:i,videoQuality:o,encodeUserTag:n,codecType:a,definition:r},l),p={play_mode:"large_video_mode",group_id:d,author_id:s};return x.current=u,{videoReportParams:u,commentPanelTeaParams:p}}),[_,l]);if((0,s.useEffect)((()=>{var e;!b&&d&&c&&(e=O,ye.W.event("comment_login_guide_show",e))}),[O,d,b,c]),!(null==_?void 0:_.video))return(0,w.G)(["item.video"]);if(!d&&b)return null;const{id:L}=_,{nickname:B=""}=null!=P?P:{};return(0,n.jsxs)(Ae.hy,Object.assign({isRTL:v,isOpen:c},{children:[(0,n.jsxs)(Ae.lk,{children:[m("webapp_feed_redesign_allcomments",{number:y}),(0,n.jsx)("div",Object.assign({onClick:e.onClose},{children:(0,n.jsx)(Ae.o$,{width:20,height:20,fill:"rgba(22, 24, 35, 0.5)"},void 0)}),void 0)]},void 0),S?(0,n.jsx)(Ae.Is,Object.assign({"data-e2e":"comment-turned-off"},{children:m("comment_off")}),void 0):b?(0,n.jsx)(_e.$,{onLinkClick:p,itemId:L,disableReply:I,ref:T,teaParams:l},void 0):(0,n.jsx)(Ve,{isPanelType:!0},void 0),b&&!S?(0,n.jsx)(Ae.TK,Object.assign({style:k},{children:I?(0,n.jsx)("div",{children:m("comment_disable_notfollow").replace("%@",B)},void 0):(0,n.jsx)(we._,{itemId:L,teaParams:D},void 0)}),void 0):null]}),void 0)}));var Ge=i(23683),ze=i(12285),Ne=i(89811),qe=i(35468),Ue=i(24878),$e=i(84785),He=i(1160),Ye=i(88650),Ke=i(96207),Je=i(57462),Qe=i(95530),Xe=i(66958),et=i(75131);const tt=e=>(0,a.F4)({"0%":{transform:"translate(0, 0)"},"100%":{transform:`translate(${e}, 0)`}}),it=(0,O.Z)("h4",{target:"e1eduqjm0"})((({theme:e})=>[L.wj,{width:"100%",display:"block"},(0,L.GI)({theme:e,typography:"P2",fontFamily:"Proxima",fontWeight:"normal"}),{marginTop:"0",marginBottom:"16px",lineHeight:"20px",flex:"0 0 auto"}]),"label:H4Link;"),ot=(0,O.Z)("svg",{target:"e1eduqjm1"})((({theme:{direction:e}})=>[{position:"absolute",width:"20px",height:"20px",display:"flex",justifyContent:"center",alignItems:"center"},(0,L.YJ)({direction:e,marginEnd:"16px"})]),"label:SvgIcon;");ot.defaultProps={width:"1em",height:"1em"};const nt=(0,O.Z)("div",{target:"e1eduqjm2"})((({playing:e,offsetWidthWithDirection:t})=>({position:"relative",display:"flex",alignItems:"center",boxSizing:"border-box",animation:`${tt(t)} 5s linear infinite`,animationPlayState:e?"running":"paused !important"})),"label:DivMusicBoxWrapper;"),at=(0,O.Z)("div",{target:"e1eduqjm3"})({paddingInlineEnd:"20px"},"label:DivMusicBox;"),rt=(0,O.Z)("div",{target:"e1eduqjm4"})({marginInlineStart:"32px",overflow:"hidden"},"label:DivAlbumContainer;"),lt=(0,s.memo)((function({item:e,fill:t,e2eTag:i,isPaused:o,isActive:a,containerStyle:r={},teaParams:l={},onLinkClick:d}){var c,u,p,m;const[h,g]=(0,s.useState)(!1),{isRTL:v}=(0,pe.Y)(),x=(0,s.useRef)(null),{music:f,id:b,authorId:y}=null!=e?e:{},k=null!==(c=null==f?void 0:f.title)&&void 0!==c?c:"",j=null!==(u=null==f?void 0:f.authorName)&&void 0!==u?u:"",_="Promoted Music"===k?k:k.replace(`- ${j}`,"")+(j?` - ${j}`:""),C=(0,Xe.MB)({musicId:null!==(p=null==f?void 0:f.id)&&void 0!==p?p:"",musicName:null!==(m=null==f?void 0:f.title)&&void 0!==m?m:""}),P=(0,s.useCallback)((e=>{et.W.handleEnterMusicDetail(Object.assign(Object.assign({},l),{music_id:null==f?void 0:f.id,group_id:b,author_id:y,enter_method:"click_caption"})),null==d||d(e,C)}),[l,null==f?void 0:f.id,b,y,d,C]),[S,I]=(0,s.useState)("");return(0,s.useEffect)((()=>{var e;if(a){const t=null===(e=null==x?void 0:x.current)||void 0===e?void 0:e.offsetWidth;I(v?`${t}px`:`-${t}px`),g(!0)}}),[v,a]),f?(0,n.jsx)(it,Object.assign({style:r,"data-e2e":i},{children:(0,n.jsxs)(Qe.rU,Object.assign({style:{position:"relative",display:"flex",alignItems:"center"},to:C,replace:!1,onClick:P},{children:[(0,n.jsx)(ot,Object.assign({fill:t,viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},{children:(0,n.jsx)("use",{xlinkHref:"#svg-music-note"},void 0)}),void 0),(0,n.jsx)(rt,{children:(0,n.jsxs)(nt,Object.assign({playing:h&&!o,offsetWidthWithDirection:S},{children:[(0,n.jsx)(at,Object.assign({ref:x},{children:_}),void 0),(0,n.jsx)(at,{children:_},void 0),(0,n.jsx)(at,{children:_},void 0),(0,n.jsx)(at,{children:_},void 0),(0,n.jsx)(at,{children:_},void 0)]}),void 0)},void 0)]}),void 0)}),void 0):(0,w.G)(["music"])}));var st=i(31223),dt=i.n(st),ct=i(19334),ut=i.n(ct),pt=i(7915),mt=i(65069),ht=i(85404),gt=i(43683),vt=i(11838);const xt=(0,O.Z)("h3",{target:"e8egrpm0"})((({theme:e})=>[(0,L.GI)({theme:e,fontFamily:"Proxima",fontWeight:"normal"}),{display:"inline-flex",alignItems:"center",fontSize:"18px",lineHeight:"22px",marginBottom:"8px"},(0,L.YJ)({direction:e.direction,marginEnd:"4px"}),(0,L.f1)({max:767,style:Object.assign({display:"block"},L.wj)})]),"label:H3AuthorTitle;");xt.defaultProps=Object.assign(Object.assign({},xt.defaultProps),{"data-e2e":"video-author-uniqueid"});const ft=(0,O.Z)(vt.D,{target:"e8egrpm1"})({display:"flex",alignItems:"center",":hover":{textDecoration:"none",[`${xt}`]:{textDecoration:"underline"}}},(0,L.f1)({max:479,style:L.wj}),"label:StyledAuthorAnchor;"),bt=(0,O.Z)("span",{target:"e8egrpm2"})((({theme:e})=>[(0,L.GI)({theme:e,typography:"P3"}),{display:"inline-flex",alignItems:"center",verticalAlign:"middle",svg:{marginInlineEnd:"4px"}}]),"label:SpanPrivateOrFriend;"),yt=(0,s.memo)((function(e){const{uniqueId:t,teaParams:i={},secret:o=!1,friend:a=!1,onLinkClick:l}=e,{t:d}=(0,ht.e)(),c=(0,r.mp)(Ue.z,{selector:e=>{const i=e.users[t];if(i)return ut()(i,["secUid","nickname","verified","uniqueId","id"])},dependencies:[t],equalFn:(e,t)=>dt()(e,t)}),{secUid:u,verified:p,id:m=""}=(0,ke.m7)(c),h=(0,s.useMemo)((()=>Object.assign({to_user_id:m},i)),[m,i]);return c?(0,n.jsxs)(ft,Object.assign({onLinkClick:l,uniqueId:t,secUid:u,teaParams:h},{children:[(0,n.jsxs)(xt,Object.assign({onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},{children:["@",t,p&&(0,n.jsx)(gt.Q,{width:14,height:14},void 0)]}),void 0),o&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:" · "},void 0),(0,n.jsxs)(bt,{children:[(0,n.jsx)(pt.Z,{width:16,height:16},void 0),d("video_label_private")]},void 0)]},void 0),a&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:" · "},void 0),(0,n.jsxs)(bt,{children:[(0,n.jsx)(mt.Z,{width:16,height:16},void 0),d("Friends only")]},void 0)]},void 0)]}),void 0):(0,w.G)(["author"])})),kt=(0,O.Z)("div",{target:"erqdgb20"})({display:"flex",flexDirection:"row",alignItems:"flex-start",position:"relative",maxWidth:"600px",minWidth:"280px","*":{color:"#fff",":hover":{color:"#fff"}}},"label:DivItemContainer;");kt.defaultProps=Object.assign(Object.assign({},kt.defaultProps),{"data-e2e":"recommend-list-item-container"});const jt=(0,O.Z)("div",{target:"erqdgb21"})({"*":{fill:"#fff"}},"label:DivItemDescWrapper;"),_t=(0,O.Z)("div",{target:"erqdgb22"})((({theme:{direction:e}})=>(0,L.YJ)({direction:e})),{width:"100%"},(0,L.f1)({max:479,style:{marginLeft:"0",width:"100%",flex:"0 0 100%"}}),"label:DivContentContainer;"),wt=(0,O.Z)("div",{target:"erqdgb23"})((({theme:{direction:e}})=>({display:"flex",flexDirection:"row",alignItems:"center",".avatar-anchor":[{display:"none"},(0,L.YJ)({direction:e,marginEnd:"12px"})]})),(0,L.f1)({max:479,style:{marginBottom:"12px",".avatar-anchor":{display:"block"}}}),"label:DivAuthorContainer;"),Ct=(0,O.Z)("div",{target:"erqdgb24"})({},"label:DivTextInfoContainer;"),Pt={width:"50%",minWidth:"300px"},St=(0,s.memo)((0,s.forwardRef)((function({id:e,index:t,isPaused:i,active:o=!1,hideCreateTime:a=!1,onLinkClick:l},d){const c=(0,ke.m7)((0,r.mp)(g.A,{selector:t=>t[e],dependencies:[e]})),{forFriend:u,secret:p,createTime:h,author:v,id:x}=(0,ke.m7)(c),f=(0,r.mp)(Ue.z,{selector:e=>{if(v)return e.users[v]},dependencies:[c]}),b=(0,r.mp)($e.G,{dependencies:[],selector:e=>{var t;return null===(t=e.appContext)||void 0===t?void 0:t.user}}),y=(0,r.mp)(m.f,{selector:i=>{var o;return 0===(null===(o=i.currentVideo)||void 0===o?void 0:o.mode)&&i.currentVideo.id===e&&i.currentVideo.index===t},dependencies:[e,t]}),{handleItemEnter:k,handleItemLeave:j}=(0,He.V)(),_=(0,Ye.zW)(f),{isShowLive:w}=_;(0,Ye.TB)({isShowLive:w,reportTrigger:w&&y,user:f,enterMethod:"video_head",autoReport:!0,reportValidator:()=>Boolean(b&&(null==f?void 0:f.roomId)&&b.uid!==f.id)});const C=(0,Ye.CN)({user:f,enterMethod:w?"video_head":"click_main_btn"}),P=(0,s.useRef)(null);(0,s.useImperativeHandle)(d,(()=>({get ratio(){return P.current?(0,xe.Di)(P.current,70):0},get offsetTop(){var e,t;return null!==(t=null===(e=P.current)||void 0===e?void 0:e.offsetTop)&&void 0!==t?t:0}})),[]);const S=(0,s.useMemo)((()=>{var e;return Object.assign({group_id:x,author_id:null!==(e=null==c?void 0:c.authorId)&&void 0!==e?e:""},C)}),[x,C,null==c?void 0:c.authorId]);return(0,n.jsx)(kt,Object.assign({ref:P},{children:(0,n.jsx)(_t,{children:(0,n.jsxs)(Ct,{children:[(0,n.jsx)(wt,{children:v&&f&&(0,n.jsx)(yt,{onMouseEnter:k,onMouseLeave:j,uniqueId:v,teaParams:S,friend:u,secret:p,createTime:Number(null!=h?h:0),hideCreateTime:a,onLinkClick:l},void 0)},void 0),(0,n.jsx)(jt,{children:(0,n.jsx)(Ke.Q,{style:{marginBottom:"8px"},item:c,ellipsisOnNarrow:!0,ellispsisLine:4,onLinkClick:l,e2eTag:"video-desc"},void 0)},void 0),(0,n.jsx)(Je.C,{item:c},void 0),(0,n.jsx)(lt,{containerStyle:Pt,isPaused:i,isActive:o,onLinkClick:l,fill:"#fff",item:c,e2eTag:"swiper-video-music"},void 0)]},void 0)},void 0)}),void 0)})));var It=i(21041),Tt=i(15854),Mt=i(67186),Dt=i(85311),Ot=i(12765),Lt=i(31444),Bt=i(44401),Et=i(12886),Zt=i(36761),Rt=i(93645),Wt=i(75546),Vt=i(30109),At=i(29046),Ft=i(54434),Gt=i(79489),zt=i(17936),Nt=i(13761),qt=i(12305),Ut=i(34249),$t=i(73641);const Ht=JSON.parse('{"v":"4.6.3","fr":25,"ip":0,"op":32,"w":60,"h":60,"nm":"home_fllowpeople","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 2","ks":{"o":{"a":0,"k":100},"r":{"a":1,"k":[{"i":{"x":[0.503],"y":[0.99]},"o":{"x":[0.499],"y":[-0.004]},"n":["0p503_0p99_0p499_-0p004"],"t":2,"s":[90],"e":[230]},{"t":15}]},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":2,"s":[30,30.125,0],"e":[33.625,31.625,0],"to":[0.60416668653488,0.25,0],"ti":[0.0625,0.04166666790843,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.185,"y":0},"n":"0p667_1_0p185_0","t":15,"s":[33.625,31.625,0],"e":[33.625,31.625,0],"to":[-0.03754998371005,-0.0250333212316,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.185,"y":0},"n":"0p667_1_0p185_0","t":23,"s":[33.625,31.625,0],"e":[30.625,30.5,0],"to":[0,0,0],"ti":[0,0,0]},{"t":31}]},"a":{"a":0,"k":[0,0,0]},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"n":["0p833_0p833_0p167_0p167","0p833_0p833_0p167_0p167","0p833_0p833_0p167_0p167"],"t":23,"s":[100,100,100],"e":[0,0,100]},{"t":31}]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0]],"o":[[0,0]],"v":[[0.062,0.062]],"c":false}},"nm":"Path 1","mn":"ADBE Vector Shape - Group"},{"ty":"st","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":4},"lc":1,"lj":1,"ml":4,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke"},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 2","np":3,"cix":2,"ix":1,"mn":"ADBE Vector Group"},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"n":"0p833_0p833_0p167_0p167","t":2,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-0.125,-9],[-0.125,9]],"c":false}],"e":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[0,-9],[0,11.635]],"c":false}]},{"t":15}]},"nm":"Path 1","mn":"ADBE Vector Shape - Group"},{"ty":"st","c":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[1,1,1,1],"e":[0.9960784,0.172549,0.3333333,1]},{"t":15}]},"o":{"a":0,"k":100},"w":{"a":0,"k":4},"lc":2,"lj":2,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke"},{"ty":"st","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":4},"lc":2,"lj":1,"ml":4,"nm":"Stroke 2","mn":"ADBE Vector Graphic - Stroke"},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[92.974,100.419],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"ix":2,"mn":"ADBE Vector Group"}],"ip":0,"op":250,"st":0,"bm":0,"sr":1},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 1","ks":{"o":{"a":0,"k":100},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.317],"y":[0.913]},"n":["0p667_1_0p317_0p913"],"t":7,"s":[0],"e":[87]},{"t":15}]},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"n":"0p833_0p833_0p167_0p167","t":23,"s":[28.562,34.696,0],"e":[29.875,30.321,0],"to":[0.21875,-0.72916668653488,0],"ti":[-0.21875,0.72916668653488,0]},{"t":31}]},"a":{"a":0,"k":[-16.594,-16.137,0]},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"n":["0p833_0p833_0p167_0p167","0p833_0p833_0p167_0p167","0p833_0p833_0p167_0p167"],"t":23,"s":[100,100,100],"e":[0,0,100]},{"t":31}]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":7,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-7.628,-14.905],[-7.624,-14.902]],"c":false}],"e":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-14.237,-14.284],[-22.874,-7.187]],"c":false}]},{"t":15}]},"nm":"Path 1","mn":"ADBE Vector Shape - Group"},{"ty":"st","c":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[1,1,1,1],"e":[0.9960784,0.172549,0.3333333,1]},{"t":15}]},"o":{"a":0,"k":100},"w":{"a":0,"k":4},"lc":2,"lj":1,"ml":4,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke"},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"ix":1,"mn":"ADBE Vector Group"}],"ip":7,"op":249,"st":-1,"bm":0,"sr":1},{"ddd":0,"ind":4,"ty":4,"nm":"shape2","ks":{"o":{"a":0,"k":100},"r":{"a":1,"k":[{"i":{"x":[0.788],"y":[0.516]},"o":{"x":[0.333],"y":[0]},"n":["0p788_0p516_0p333_0"],"t":2,"s":[0],"e":[132]},{"i":{"x":[0.268],"y":[0.968]},"o":{"x":[0.301],"y":[0.69]},"n":["0p268_0p968_0p301_0p69"],"t":7,"s":[132],"e":[319]},{"t":15}]},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":2,"s":[30,30.125,0],"e":[31.625,31.75,0],"to":[0.27083334326744,0.27083334326744,0],"ti":[0.52083331346512,-1.10416662693024,0]},{"i":{"x":0.713,"y":1},"o":{"x":0.34,"y":0},"n":"0p713_1_0p34_0","t":7,"s":[31.625,31.75,0],"e":[26.875,36.75,0],"to":[-0.52083331346512,1.10416662693024,0],"ti":[0.79166668653488,-0.83333331346512,0]},{"i":{"x":0.713,"y":0.713},"o":{"x":0.167,"y":0.167},"n":"0p713_0p713_0p167_0p167","t":15,"s":[26.875,36.75,0],"e":[26.875,36.75,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.713,"y":1},"o":{"x":0.167,"y":0},"n":"0p713_1_0p167_0","t":23,"s":[26.875,36.75,0],"e":[28.938,31.875,0],"to":[0.34375,-0.8125,0],"ti":[-0.34375,0.8125,0]},{"t":31}]},"a":{"a":0,"k":[0,0,0]},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"n":["0p833_0p833_0p167_0p167","0p833_0p833_0p167_0p167","0p833_0p833_0p167_0p167"],"t":23,"s":[100,100,100],"e":[0,0,100]},{"t":31}]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"n":"0p833_0p833_0p167_0p167","t":2,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[0,-9],[0,9]],"c":false}],"e":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[0,-9],[-0.026,0.343]],"c":false}]},{"t":7}]},"nm":"?? 1","mn":"ADBE Vector Shape - Group"},{"ty":"st","c":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[1,1,1,1],"e":[0.9960784,0.172549,0.3333333,1]},{"t":15}]},"o":{"a":0,"k":100},"w":{"a":0,"k":4},"lc":2,"lj":1,"ml":4,"nm":"?? 1","mn":"ADBE Vector Graphic - Stroke"},{"ty":"fl","c":{"a":0,"k":[1,0.172549,0.3333333,1]},"o":{"a":0,"k":100},"r":1,"nm":"?? 1","mn":"ADBE Vector Graphic - Fill"},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"?? 1","np":3,"cix":2,"ix":1,"mn":"ADBE Vector Group"}],"ip":0,"op":7,"st":0,"bm":0,"sr":1},{"ddd":0,"ind":5,"ty":4,"nm":"shape3","ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[30,30,0]},"a":{"a":0,"k":[0,0,0]},"s":{"a":1,"k":[{"i":{"x":[0.608,0.608,0.608],"y":[1,1,0.608]},"o":{"x":[0.16,0.16,0.16],"y":[0,0,0.16]},"n":["0p608_1_0p16_0","0p608_1_0p16_0","0p608_0p608_0p16_0p16"],"t":2,"s":[100,100,100],"e":[122,122,100]},{"i":{"x":[0.608,0.608,0.608],"y":[0.608,0.608,0.608]},"o":{"x":[0.432,0.432,0.432],"y":[0.432,0.432,0.432]},"n":["0p608_0p608_0p432_0p432","0p608_0p608_0p432_0p432","0p608_0p608_0p432_0p432"],"t":15,"s":[122,122,100],"e":[122,122,100]},{"i":{"x":[0.701,0.701,0.667],"y":[0.996,0.996,0.667]},"o":{"x":[0.432,0.432,0.432],"y":[0,0,0.432]},"n":["0p701_0p996_0p432_0","0p701_0p996_0p432_0","0p667_0p667_0p432_0p432"],"t":23,"s":[122,122,100],"e":[0,0,100]},{"t":31}]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-13.255],[13.255,0],[0,13.255],[-13.255,0]],"o":[[0,13.255],[-13.255,0],[0,-13.255],[13.255,0]],"v":[[24,0],[0,24],[-24,0],[0,-24]],"c":true}},"nm":"?? 1","mn":"ADBE Vector Shape - Group"},{"ty":"st","c":{"a":0,"k":[1,0.172549,0.3333333,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":0},"lc":1,"lj":1,"ml":4,"nm":"?? 1","mn":"ADBE Vector Graphic - Stroke"},{"ty":"fl","c":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[1,0.172549,0.3333333,1],"e":[1,1,1,1]},{"t":15}]},"o":{"a":0,"k":100},"r":1,"nm":"?? 1","mn":"ADBE Vector Graphic - Fill"},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"?? 1","np":3,"cix":2,"ix":1,"mn":"ADBE Vector Group"}],"ip":0,"op":250,"st":0,"bm":0,"sr":1}]}'),Yt=({width:e=160,height:t=160,onComplete:i=ue(),autoplay:o})=>{const a=(0,s.useMemo)((()=>({loop:!1,autoplay:o,animationData:Ht,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}})),[o]),r=(0,s.useMemo)((()=>[{eventName:"complete",callback:i}]),[i]);return(0,n.jsx)($t.e,{width:e,height:t,options:a,eventListeners:r},void 0)},Kt=(0,O.Z)("div",{target:"e1ely4uh0"})({background:"transparent",width:"20px",height:"20px",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:"50%",bottom:"0",transform:"translate(-50%, 50%)"},"label:DivContainer;"),Jt=(0,O.Z)("div",{target:"e1ely4uh1"})({background:"transparent",width:"20px",height:"20px",display:"flex",justifyContent:"center",alignItems:"center"},"label:DivFollowButtonWrapper;"),Qt=(0,s.memo)((function({uniqueId:e="",teaParams:t}){var i,o;const[a,l]=(0,s.useState)(!1),[d,c]=(0,s.useState)(!1),[u,p]=(0,s.useState)(!0),m=(0,r.mp)(Ue.z,{selector:t=>{const i=t.users[e];if(!i)return{};const{relation:o,id:n,extraInfo:a}=i;return{relation:o,uid:n,extraInfo:a}},dependencies:[e]}),{user:h}=null!==(i=(0,me.L)((()=>["user"]),[]))&&void 0!==i?i:{},{relation:g,uid:v}=m,f=(null==h?void 0:h.uid)===v,b=Boolean(h),y=(0,x.Q)(),{handleFollow:k}=(0,je.w)({uniqueId:e,followerStatus:null===(o=null==m?void 0:m.extraInfo)||void 0===o?void 0:o.followerStatus,prevent:!0,onNeedLogin:y,teaParams:t}),j=(0,s.useCallback)((e=>{b&&c(!0),k(e)}),[k,b]),_=(0,s.useCallback)((()=>{c(!1),l(!0)}),[]);return(0,s.useEffect)((()=>{p(1===g||3===g||2===g)}),[]),u||f||!u&&a&&(1===g||3===g||2===g)?null:(0,n.jsxs)(Kt,{children:[d&&(0,n.jsx)(Jt,{children:(0,n.jsx)(Yt,{width:20,height:20,autoplay:d,onComplete:_},void 0)},void 0),!d&&(0,n.jsx)(Jt,Object.assign({onClick:j},{children:(0,n.jsx)(Ut.Z,{width:20,height:20},void 0)}),void 0)]},void 0)}));var Xt=i(65194),ei=i(80201);i(20935);const ti=(0,a.F4)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),ii=(0,a.F4)({"0%":{opacity:0,transform:"translate3d(.5em, calc(1 * .2em), 0) rotate(calc(1 * 20deg)) scale(.6)"},"20%":{opacity:.6,transform:"translate3d(.3em, calc(1 * 0), 0) rotate(calc(1 * 40deg)) scale(.8)"},"40%":{opacity:1,transform:"translate3d(.1em, calc(1 * -.2em), 0) rotate(calc(1 * 60deg)) scale(1)"},"60%":{transform:"translate3d(-.1em, calc(1 * -.4em), 0) rotate(calc(1 * 80deg))"},"80%":{opacity:.8,transform:"translate3d(-.2em, 1 * -.6em, 0) rotate(1 * 100deg)"},"100%":{opacity:0,transform:"translate3d(-.3em, calc(1 * -.8em), 0) rotate(calc(1 * 120deg))"}}),oi=(0,a.F4)({"0%":{opacity:0,transform:"translate3d(.5em,calc(2 * .2em), 0) rotate(calc(2 * 20deg)) scale(.6)"},"20%":{opacity:.6,transform:"translate3d(.3em, calc(2 * 0), 0) rotate(calc(2 * 40deg)) scale(.8)"},"40%":{opacity:1,transform:"translate3d(.1em, calc(2 * -.2em), 0) rotate(calc(2 * 60deg)) scale(1)"},"60%":{transform:"translate3d(-.1em, calc(2 * -.4em), 0) rotate(calc(2 * 80deg))"},"80%":{opacity:.8,transform:"translate3d(-.2em, calc(2 * -.6em), 0) rotate(calc(2 * 100deg))"},"100%":{opacity:0,transform:"translate3d(-.3em, calc(2 * -.8em), 0) rotate(calc(2 * 120deg))"}}),ni=(0,a.F4)({"0%":{opacity:0,transform:"translate3d(.5em, calc(3 * .2em), 0) rotate(calc(3 * 20deg)) scale(.6)"},"20%":{opacity:.6,transform:"translate3d(.3em, calc(3 * 0), 0) rotate(calc(3 * 40deg)) scale(.8)"},"40%":{opacity:1,transform:"translate3d(.1em, calc(3 * -.2em), 0) rotate(calc(3 * 60deg)) scale(1)"},"60%":{transform:"translate3d(-.1em, calc(3 * -.4em), 0) rotate(calc(3 * 80deg))"},"80%":{opacity:.8,transform:"translate3d(-.2em, calc(3 * -.6em), 0) rotate(calc(3 * 100deg))"},"100%":{opacity:0,transform:"translate3d(-.3em, calc(3 * -.8em), 0) rotate(calc(3 * 120deg))"}}),ai=(0,O.Z)("div",{target:"eaq33pd0"})({display:"flex",flexDirection:"column",alignItems:"center"},"label:DivActionItemContainer;"),ri=((0,a.F4)({"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.67)"},"100%":{transform:"scale(1)"}}),(0,O.Z)("div",{target:"eaq33pd5"})((({theme:e})=>[(0,L.GI)({theme:e,fontWeight:"semiBold",typography:"P2"}),{width:"280px",padding:"8px 0px",maxHeight:"490px",overflowY:"auto","::-webkit-scrollbar-thumb":{background:e.colors.SDTertiary}}]),"label:DivShareWrapper;"));ri.defaultProps=Object.assign(Object.assign({},ri.defaultProps),{"data-e2e":"feed-share-group"});const li=(0,O.Z)("div",{target:"eaq33pd6"})({width:"40px",height:"40px",position:"relative",marginBottom:"18px"},"label:DivUserWrapper;"),si=(0,O.Z)("div",{target:"eaq33pd8"})((({isPaused:e})=>({width:"40px",height:"40px",borderRadius:"100px",background:"conic-gradient(from 90deg at 50% 50%, #393939 -40.11deg, #151515 47.27deg, #393939 143.02deg, #161616 227.49deg, #393939 319.89deg, #151515 407.27deg)",display:"flex",justifyContent:"center",alignItems:"center",animation:`${ti} 8s linear infinite`,animationPlayState:e?"paused !important":"running"})),"label:DivAlbumWrapper;"),di=(0,O.Z)("div",{target:"eaq33pd9"})((({isPaused:e=!1})=>({position:"absolute",top:"calc(36px - 16px)",left:`calc(${Number(-4)}px - 16px)`,display:"block",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundImage:"url('https://lf16-tiktok-common.ibytedtos.com/obj/tiktok-web-common-sg/mtact/static/amp/image/tos_3e6044344b4a18e005beba6d19d66e9a.png')",width:"calc(15px)",height:"calc(15px)",animation:`${ii} 2.2s linear infinite`,animationPlayState:e?"paused !important":"running"})),"label:DivMusicSymbol1;"),ci=(0,O.Z)(di,{target:"eaq33pd10"})({top:"calc((4 - 2) * 12px - 16px)",left:"calc(2 * -4px - 16px)",backgroundImage:"url('https://lf16-tiktok-common.ibytedtos.com/obj/tiktok-web-common-sg/mtact/static/amp/image/tos_b95ba14db55c8ebad9a12131fe2b7770.png')",width:"calc((6 - 2) * 3px)",height:"calc((6 - 2) * 3px)",animation:`${oi} 2.7s linear infinite`},"label:DivMusicSymbol2;"),ui=(0,O.Z)(di,{target:"eaq33pd11"})({top:"calc((4 - 3) * 12px - 16px)",left:"calc(3 * -4px - 16px)",backgroundImage:"url('https://lf16-tiktok-common.ibytedtos.com/obj/tiktok-web-common-sg/mtact/static/amp/image/tos_8d8f99c159c8bc7c944b4186ef9eb4b9.png')",width:"calc(9px)",height:"calc(9px)",animation:`${ni} 2.5s linear infinite`},"label:DivMusicSymbol3;"),pi=(0,O.Z)("svg",{target:"eaq33pd12"})((({theme:{direction:e}})=>(0,L.YJ)({direction:e,marginEnd:"5px"})),{verticalAlign:"middle"},"label:SvgIconFlag;"),mi=(0,O.Z)("div",{target:"eaq33pd13"})((({theme:e})=>[(0,L.GI)({theme:e,fontWeight:"semiBold",typography:"P2",color:"TextPrimary"}),{width:"280px",height:"58px",display:"flex",alignItems:"center",padding:"16px",boxSizing:"border-box",cursor:"pointer"}]),"label:DivReportWrapper;"),hi=32,gi="#fff",vi=(0,n.jsx)(Tt.Z,{width:hi,height:hi},void 0),xi=(0,n.jsx)(Mt.Z,{width:hi,height:hi,fill:gi},void 0),fi=(0,n.jsx)(Dt.Z,{width:hi,height:hi,fill:gi},void 0),bi=(0,n.jsx)(Ot.Z,{width:hi,height:hi,fill:gi},void 0),yi=(0,n.jsx)(Lt.Z,{width:hi,height:hi,fill:gi},void 0),ki=(0,s.memo)((function(e){const{itemId:t,isPaused:i,style:o,onClickLike:a,onClickShare:d,onLinkClick:c}=e,{pathname:u}=(0,It.TH)(),p=u!==At.Ad.following,m=(0,M.Q)(),{isRTL:h}=(0,pe.Y)(),[v,f]=(0,s.useState)(0),b=h?"rightBottom":"leftBottom",y=(0,s.useMemo)((()=>({offset:[h?20:-20,10*Math.min(v,10)]})),[h,v]),k=(0,s.useMemo)((()=>({maxWidth:"unset"})),[]),j=(0,s.useMemo)((()=>({padding:"0 4px"})),[]),_=h?"right":"left",C=(0,s.useMemo)((()=>({offset:[h?20:-20]})),[h]),[P={},S]=(0,r.b7)(g.A,{selector:e=>e[t],dependencies:[t]}),{author:I="",music:T,id:D="",digged:O=!1}=(0,ke.m7)(P),L=(0,r.mp)(Ue.z,{selector:e=>{if(I)return e.users[I]},dependencies:[P]}),{secUid:B="",uniqueId:E="",id:Z=""}=(0,ke.m7)(L),{coverMedium:R,id:W="",title:V=""}=(0,ke.m7)(T),A=(0,x.X)({action:(0,s.useCallback)((()=>{null==a||a(),S.postLikeVideo({id:t,enter_method:"click",play_mode:"large_video_mode"})}),[S,t,a]),modalConfig:{query:{enter_method:"click_like"}}}),F=(0,l.fz)(Gt.p),[G,z]=(0,s.useState)(!1),[N,q]=(0,s.useState)(!1),[U,$]=(0,s.useState)(!1),[H,Y]=(0,s.useState)(!1),K=(0,s.useRef)(0),J=(0,s.useRef)(0),Q=(0,s.useRef)(0),X=(0,s.useRef)(0),{expanded:ee}=(0,Bt.c1)(),te=(0,s.useCallback)((()=>{U||(z(!G),F.handleClickShare({author_id:null==L?void 0:L.id,group_id:t,play_mode:"large_video_mode"})),null==d||d()}),[U,d,G,F,null==L?void 0:L.id,t]),ie=(0,s.useCallback)((()=>{q(!N)}),[N]),oe=(0,s.useCallback)((()=>{F.handleSharePanelShow({group_id:t,author_id:null==L?void 0:L.id,play_mode:"large_video_mode",share_option_type:ee}),window.clearTimeout(K.current),window.setTimeout((()=>{z(!0)}),100)}),[ee,t,F,null==L?void 0:L.id]),ne=(0,s.useCallback)((()=>{U||(window.clearTimeout(Q.current),K.current=window.setTimeout((()=>{z(!1)}),300))}),[U]),ae=(0,s.useCallback)((()=>{window.clearTimeout(J.current),X.current=window.setTimeout((()=>{q(!0)}),100)}),[]),re=(0,s.useCallback)((()=>{window.clearTimeout(X.current),J.current=window.setTimeout((()=>{q(!1)}),300)}),[]),le=(0,s.useCallback)((e=>{$(e)}),[]),se=(0,s.useCallback)((()=>{Y(!0)}),[Y]),de=(0,s.useCallback)((()=>{Y(!1)}),[Y]),ce=(0,Et.gR)(t),ue=(0,Bt.JW)();(0,s.useEffect)((()=>{ue()}),[ue]);const me=(0,Ye.zW)(L),{isShowLive:he}=me,{handleItemEnter:ge,handleItemLeave:ve}=(0,He.V)(),fe=(0,s.useMemo)((()=>(0,Xt.zt)(he)),[he]),be=(0,s.useMemo)((()=>({anchor:{onMouseEnter:ge,onMouseLeave:ve,uniqueId:I,secUid:B},avatar:Object.assign({needAnimation:!0,liveTheme:1},me)})),[ge,ve,I,B,me]),ye=(0,Zt.Q)({item:P,play_mode:"large_video_mode",onShow:xe.NS}),je=(0,s.useMemo)((()=>(0,n.jsxs)(mi,Object.assign({onMouseEnter:ae,onMouseLeave:re,onClick:ye},{children:[(0,n.jsx)(pi,Object.assign({viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:16,height:15},{children:(0,n.jsx)("use",{xlinkHref:"#svg-flag"},void 0)}),void 0),m("Report")]}),void 0)),[ae,re,ye,m]),_e=(0,s.useMemo)((()=>({group_id:t,to_user_id:Z,author_id:Z,play_mode:"large_video_mode"})),[t,Z]),we=(0,s.useMemo)((()=>({play_mode:"large_video_mode"})),[]),Ce=(0,Ft.MB)({musicId:W,musicName:V}),Pe=(0,s.useCallback)((e=>{et.W.handleEnterMusicDetail(Object.assign(Object.assign({},_e),{music_id:W,group_id:D,author_id:I,enter_method:"click_caption"})),null==c||c(e,Ce)}),[_e,W,D,I,c,Ce]),Se=(0,Ye.CN)({user:L,enterMethod:he?"video_head":"click_main_btn"}),Ie=(0,s.useMemo)((()=>Object.assign({group_id:D,author_id:I},Se)),[D,I,Se]),Te=(0,s.useMemo)((()=>(0,n.jsx)(ei.Z,{isLiked:O,likedIcon:vi,unlikeIcon:yi},void 0)),[O]),{stats:Me,id:De}=(0,ke.m7)(P),Oe=`https://www.tiktok.com${(0,Xe.fH)({uniqueId:E,secUid:B,videoId:De})}`,Le=(0,s.useMemo)((()=>(0,n.jsx)(ri,Object.assign({onMouseEnter:oe,onMouseLeave:ne},{children:(0,n.jsx)(Rt.mB,{mode:1,videoId:D,url:Oe,embedCode:ce,enabled:P.shareEnabled,teaParams:_e,onPlatformCountChange:f,onOtherModalOpen:le,onSendMessagePanelOpen:se},void 0)}),void 0)),[ce,le,se,oe,ne,P.shareEnabled,_e,Oe,D]);return P?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(ai,Object.assign({style:o},{children:[(0,n.jsxs)(li,{children:[(0,n.jsx)(fe,Object.assign({},be.anchor,{onLinkClick:c,teaParams:Ie,"data-e2e":"video-author-avatar"},{children:(0,n.jsx)(Wt.k,Object.assign({size:40},be.avatar),void 0)}),void 0),p&&(0,n.jsx)(Qt,{uniqueId:I,teaParams:we},void 0)]},void 0),(0,n.jsx)(qt.i,{text:(0,ke.BT)(null==Me?void 0:Me.diggCount),Icon:Te,onClick:A,e2eTag:"like"},void 0),(0,n.jsx)(qt.i,{text:(0,ke.BT)(null==Me?void 0:Me.commentCount),Icon:xi,onClick:e.onClickComment,e2eTag:"comment"},void 0),(0,n.jsx)(zt.u,Object.assign({destroyTooltipOnHide:!0,visible:G,placement:b,overlay:Le,align:y,overlayStyle:k,overlayInnerStyle:j,tooltipTheme:"white",zIndex:999},{children:(0,n.jsx)(qt.i,{text:(null==Me?void 0:Me.shareCount)?(0,ke.BT)(null==Me?void 0:Me.shareCount):m("Share"),Icon:bi,onMouseEnter:oe,onMouseLeave:ne,onClick:te,e2eTag:"share"},void 0)}),void 0),(0,n.jsx)(zt.u,Object.assign({visible:N,placement:_,align:C,overlay:je,overlayStyle:k,overlayInnerStyle:j,tooltipTheme:"white",zIndex:999},{children:(0,n.jsx)(qt.i,{onClick:ie,onMouseEnter:ae,onMouseLeave:re,Icon:fi,e2eTag:"more-entrance"},void 0)}),void 0),(0,n.jsxs)(Qe.rU,Object.assign({style:{position:"relative",transform:`rotateY(${h?180:0}deg)`},to:Ce,onClick:Pe},{children:[(0,n.jsx)(di,{isPaused:i},void 0),(0,n.jsx)(ci,{isPaused:i},void 0),(0,n.jsx)(ui,{isPaused:i},void 0),(0,n.jsx)(si,Object.assign({isPaused:i},{children:(0,n.jsx)(Nt.q,{size:24,src:R},void 0)}),void 0)]}),void 0)]}),void 0),H&&(0,n.jsx)(Vt.J,{visible:H,videoId:De,onClose:de},void 0)]},void 0):(0,w.G)(["item"])}));var ji=i(74820),_i=i(94582),wi=i(87821),Ci=i(33527),Pi=i(60622),Si=i(59929),Ii=i(75595),Ti=i(76985),Mi=i(51347);const Di=(0,O.Z)("div",{target:"ee9i2zd0"})({width:"100%",flex:"1 1 auto",position:"relative"},"label:DivSeekBarContainer;"),Oi=(0,O.Z)("div",{target:"ee9i2zd1"})({maxWidth:"64px",marginInlineStart:"8px",fontSize:"14px",lineHeight:"20px",color:"#ffffff",textAlign:"end",whiteSpace:"nowrap",fontFeatureSettings:'"tnum"',fontVariantNumeric:"tabular-nums",fontFamily:"Tahoma, PingFangSC, sans-serif"},"label:DivSeekBarTimeContainer;"),Li=(0,O.Z)("div",{target:"ee9i2zd2"})({height:"4px",width:"100%",backgroundColor:"rgba(255, 255, 255, 0.2)",position:"absolute",left:"0",bottom:"0",cursor:"pointer",":hover":{height:"6px"}},"label:DivSeekBarProgress;"),Bi=(0,O.Z)("div",{target:"ee9i2zd3"})((({theme:{direction:e,colors:t}})=>({height:"4px",width:"100%",backgroundColor:t.Primary,position:"absolute",bottom:"0",cursor:"pointer",transformOrigin:"rtl"===e?"right":"left",":hover":{height:"6px"}})),"label:DivSeekBar;"),Ei=(0,O.Z)("div",{target:"ee9i2zd4"})((({theme:{direction:e}})=>(0,L.YJ)({direction:e})),(({theme:{direction:e,colors:t}})=>({display:"none",width:"12px",height:"12px",backgroundColor:"#ffffff",borderRadius:"12px",position:"absolute",zIndex:10,bottom:"0",transform:`translate(${"rtl"===e?"50%":"-50%"}, 3px)`,cursor:"pointer",boxShadow:`0px 0px 3px ${t.TextPrimary}`})),"label:DivSeekBarCircle;"),Zi=(0,O.Z)("div",{target:"ee9i2zd5"})({width:"100%",opacity:1,bottom:"0",cursor:"initial",display:"flex",flexDirection:"column",[`:hover ${Li}`]:{height:"6px"},[`:hover ${Bi}`]:{height:"6px"},[`:hover ${Ei}`]:{display:"block"}},"label:DivVideoControlContainer;"),Ri=(0,O.Z)("div",{target:"ee9i2zd6"})((({active:e})=>[{position:"relative",maxHeight:e?"24px":"0px",width:"100%",display:"flex",alignItems:"center",paddingInlineStart:"16px",marginBottom:e?"20px":"0",opacity:e?"1":"0",transition:"all .3s ease"}]),"label:DivControlButtonWrapper;"),Wi=(0,O.Z)("div",{target:"ee9i2zd7"})((({theme:{direction:e},active:t})=>[{position:"absolute",cursor:"pointer",bottom:"28px",display:"flex",flexDirection:"column",alignItems:"center",opacity:t?"1":"0",transition:"opacity .5s"},(0,L.YJ)({direction:e,start:"unset",end:"93px"})]),"label:DivVoiceControlContainer;"),Vi=(0,O.Z)(Wi,{target:"ee9i2zd8"})((({theme:{direction:e}})=>(0,L.YJ)({direction:e,start:"unset",end:"120px"})),"label:StyledDivVoiceControlContainer;"),Ai=(0,O.Z)("div",{target:"ee9i2zd9"})({opacity:1,width:"40px",height:"24px",display:"flex",justifyContent:"center",transition:"opacity .3s"},"label:DivMuteIconContainer;"),Fi=(0,O.Z)("div",{target:"ee9i2zd10"})({width:"24px",height:"24px",display:"flex",justifyContent:"center",cursor:"pointer"},"label:DivPlayIconContainer;"),Gi=(0,O.Z)("div",{target:"ee9i2zd11"})((({theme:{direction:e},active:t})=>[{zIndex:10,height:"24px",position:"absolute",cursor:"pointer",bottom:"25px",display:"flex",flexDirection:"column",alignItems:"center",opacity:t?"1":"0",transition:"opacity .5s"},(0,L.YJ)({direction:e,start:"unset",end:"170px"})]),"label:DivExpandIconContainer;"),zi={width:24,height:24,fill:"#fff"},Ni=(0,s.memo)((function(e){const t=(0,s.useRef)(null),i=(0,s.useRef)(null),o=(0,s.useRef)(null),a=(0,s.useRef)(null),[l,d]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!1),[p,m]=(0,s.useState)(!1),[h,g]=(0,s.useState)(!1),{direction:x}=(0,ji.u)(),b=(0,s.useRef)(0),y=(0,s.useRef)(null),{mouseMoving:k,showExpandIcon:j=!1,isActive:_,videoId:w,pause:C=!1,seek:P,videoRef:S,progressReportCallback:I,progressPreviewReportCallback:T}=e,[{duration:M,videoPercent:D,currentTime:O},L]=(0,r.b7)(f.M,{selector:e=>e[w]?e[w]:{duration:0,videoPercent:0,currentTime:0},dependencies:[]}),{percent:B,bindDrag:E,seek:Z}=(0,Ii.S)({direction:x,progressRef:i,circleRef:o,barRef:a,initialPercent:0,draggingStateCb:d,draggingPercentCb:P,progressReportCallback:I});(0,s.useEffect)((()=>{_||!O&&!D||L.setVideoInfo({videoId:w,videoPercent:0})}),[_]);const{mute:R,setMute:W}=(0,v.s_)(3),[V,A]=(0,s.useState)(!1),F=(0,s.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),W(!R)}),[R,W]),G=(0,s.useMemo)((()=>C?(0,n.jsx)("svg",Object.assign({viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},zi,{children:(0,n.jsx)("use",{xlinkHref:"#svg-play-fill"},void 0)}),void 0):(0,n.jsx)(wi.Z,Object.assign({},zi),void 0)),[C]),z=(0,s.useMemo)((()=>R?(0,n.jsx)(Ci.Z,Object.assign({},zi),void 0):(0,n.jsx)(Pi.Z,Object.assign({},zi),void 0)),[R]),N=(0,s.useCallback)((()=>{clearTimeout(b.current),m(!0)}),[]),q=(0,s.useCallback)((()=>{b.current=window.setTimeout((()=>{m(!1)}),500)}),[]),U=(0,s.useCallback)((()=>{g(!0)}),[]),$=(0,s.useCallback)((()=>{g(!1)}),[]);(0,s.useEffect)((()=>{_&&T()}),[T,_]),(0,s.useEffect)((()=>{var e,t;null===(e=S.current)||void 0===e||e.onSeeked((()=>{setTimeout((()=>{u(!1)}),0)})),null===(t=S.current)||void 0===t||t.onSeeking((()=>{u(!0)}))}),[S.current,u]);const H=l||c?B:D,Y="ltr"===x?{left:`calc(${100*H}%)`}:{right:`calc(${100*H}%)`},K=k||p||l,J=k||p||l||R||V;return(0,n.jsxs)(Zi,Object.assign({onClick:xe.UW,ref:y,onMouseEnter:N,onMouseLeave:q,onMouseDown:xe.UW},{children:[(0,n.jsx)(_i.ZP,Object.assign({in:K,timeout:500,nodeRef:y},{children:(0,n.jsxs)(n.Fragment,{children:[j&&(0,n.jsx)(Gi,Object.assign({active:K,onClick:e.onOpenBrowserMode},{children:(0,n.jsx)(Si.Z,{width:20,height:20,fill:"#fff"},void 0)}),void 0),(0,n.jsxs)(Ri,Object.assign({active:K},{children:[(0,n.jsx)(Fi,Object.assign({onClick:e.onTogglePlay},{children:G}),void 0),(0,n.jsx)(Oi,{children:"ltr"===x?`${(0,Ti.xo)(O)}/${(0,Ti.xo)(M)}`:`${(0,Ti.xo)(M)}/${(0,Ti.xo)(O)}`},void 0)]}),void 0)]},void 0)}),void 0),(0,n.jsx)(_i.ZP,Object.assign({in:J,timeout:500,nodeRef:y},{children:(0,n.jsxs)(Vi,Object.assign({active:J,onMouseEnter:U,onMouseLeave:$,onMouseDown:xe.UW},{children:[V||h&&!l?(0,n.jsx)(Mi.y,{setVolumeDragging:A},void 0):null,(0,n.jsx)(Ai,Object.assign({mute:R,onClick:F},{children:z}),void 0)]}),void 0)}),void 0),(0,n.jsxs)(Di,Object.assign({ref:t},{children:[(0,n.jsx)(Li,{ref:i,onClick:Z,onMouseDown:E},void 0),(0,n.jsx)(Ei,{ref:o,style:Y,onMouseDown:E},void 0),(0,n.jsx)(Bi,{ref:a,style:{transform:`scaleX(${H})`},onClick:Z,onMouseDown:E},void 0)]}),void 0)]}),void 0)}));var qi=i(8609);const Ui=(0,O.Z)("div",{target:"e1djgv9u0"})({width:"36px",height:"80px",marginBottom:"24px",borderRadius:"100px",overflow:"hidden"},"label:DivVideoSwitchWrapper;"),$i=(0,O.Z)("button",{target:"e1djgv9u1"})((({theme:{colors:e}})=>({display:"flex",justifyContent:"center",alignItems:"center",width:"36px",height:"40px",background:e.ConstLineInverse2,cursor:"pointer",border:"none",outline:"none",fontsize:0,":hover":{opacity:.5},":disabled":{cursor:"default",":hover":{opacity:1},svg:{opacity:.3}}})),"label:ButtonSwitchButton;"),Hi=(0,s.memo)((e=>{const{currentIndex:t,totalLength:i,style:o,onClickNext:a,onClickPrev:r}=e,l=t<i-1,s=0===t,d=s?ue():r,c=l?a:ue();return(0,n.jsxs)(Ui,Object.assign({style:o},{children:[(0,n.jsx)($i,Object.assign({disabled:s,onClick:d,"data-e2e":"arrow-left"},{children:(0,n.jsx)(qi.Z,{width:20,height:20,fill:"#fff",style:{transform:"rotateZ(180deg)"}},void 0)}),void 0),(0,n.jsx)($i,Object.assign({disabled:!l,onClick:c,"data-e2e":"arrow-right"},{children:(0,n.jsx)(qi.Z,{width:20,height:20,fill:"#fff"},void 0)}),void 0)]}),void 0)})),Yi=(0,s.memo)((function({item:e,index:t,currentIndex:i,showSwiper:o,pause:a,reachEnd:l,browserList:d,commentActive:c,itemList:u,itemListKey:p,refScrollEl:m,mouseMoving:h,commentAreaRef:g,videoPlayerRef:v,videoReportParams:x,teaParams:f={},seek:b,progressPreviewReportCallback:k,progressReportCallback:j,onVideoClick:w,onWheel:C,onMouseMove:P,onTimeUpdate:S,onVideoError:I,onLinkClick:T,onClickSwitchToNext:D,onClickSwitchToPrev:O,onToggleCommentPanel:L,onCloseCommentPanel:B,onTogglePlay:E}){var Z,R,W,V,A,F;const G=(0,M.Q)(),{isRTL:z}=(0,pe.Y)(),{user:N}=null!==(Z=(0,me.L)((()=>["user"]),[]))&&void 0!==Z?Z:{},q=G("webapp_feed_redesign_endoffeed"),{isVideoFeedRedesignV3:U}=(0,he.y7)(),$=o?X:Q,{id:de,desc:ce,video:ye,itemMute:ke,warnInfo:je,stats:_e,downloadSetting:we=0,authorPrivate:Ce=!1}=e,{cover:Pe,playAddr:Se="",width:Ie=1,height:Te=1,duration:Me,bitrateInfo:De,volumeInfo:Oe}=ye,Le=(Ie/Te||1)>=1,Be=Boolean(null==je?void 0:je[0]),Ee=t===i,Ze=Math.abs(i-t)<3,Re=t===i+1,We=i<u.length-1,Ve=(0,s.useRef)(!1),Ae=(0,s.useRef)(-1),Ue=(0,s.useRef)(0),[$e,He]=(0,s.useState)(!1),{showVideoMask:Ye,maskType:Ke,videoMaskTitle:Je,videoMaskDesc:Qe,icon:Xe,videoMaskFirstButtonText:et,videoMaskSecondButtonText:tt}=(0,ge.g)({playMode:3,item:null!=e?e:{},isLogin:Boolean(N)}),[{photoSensitiveVideosSetting:it},ot]=(0,r.b7)(ve.P),nt=Ye&&!$e,at=(0,s.useCallback)((()=>{clearTimeout(Ae.current),Ue.current=0}),[]),rt=(0,s.useRef)(!1),{showBrowserMode:lt}=(0,s.useContext)(_._),st=(0,s.useCallback)((()=>{var e,t;ze.r.handleEnterBrowser(Object.assign(Object.assign({},f),{group_id:de,from_mode:3})),lt({index:i,playProgress:null!==(t=null===(e=v.current)||void 0===e?void 0:e.currentTime)&&void 0!==t?t:0})}),[i,de,lt,f,v]);(0,s.useEffect)((()=>{var e,t;Ze&&(Ve.current&&!Ee&&(He(!1),rt.current=!1,nt&&at(),"photo_sensitive"===Ke&&void 0===it&&ot.setSkipPhotoSensitive(!1)),Ee&&(Ve.current=!0,nt?("photo_sensitive_denied"===Ke?Ne.W.handleShowPhotosensitiveRemoved({group_id:de}):Ne.W.handleShowMaskLayer({scenario:"general_sensitive"===Ke?"general":"photosensitive",group_id:de}),Ae.current=window.setInterval((()=>{var e,t,i;Ue.current++>100&&at(),(null===(e=v.current)||void 0===e?void 0:e.currentCanPlay)&&(null===(i=null===(t=v.current)||void 0===t?void 0:t.pause)||void 0===i||i.call(t),at())}),50)):null===(t=null===(e=v.current)||void 0===e?void 0:e.play)||void 0===t||t.call(e),nt&&"photo_sensitive"===Ke&&y.F3.setItem("photo_sensitive_video_setting",2)))}),[nt,v,i,Ke,ot,t,Ee,Ze,it,at,de]);const dt=(0,s.useCallback)((e=>{rt.current||((0,xe.NS)(e),"general_sensitive"===Ke?(We?D():u.length>1&&O(),Ne.W.handleMaskLayerClickSkip({scenario:"general",group_id:de}),qe.h.open({content:G("photosensitive_skepped_toast"),duration:3,widthType:"half"}),rt.current=!0):(ot.setSkipPhotoSensitive(!1),at(),Ne.W.handleMaskLayerClickWatch({scenario:"photosensitive",group_id:de})))}),[Ke,We,u.length,de,G,D,O,ot,at]),ct=(0,s.useCallback)((e=>{if((0,xe.NS)(e),"general_sensitive"===Ke)at(),He(!0),Ne.W.handleMaskLayerClickWatch({scenario:"general",group_id:de});else{if(rt.current)return;We?D():O(),ot.setSkipPhotoSensitive(!0),Ne.W.handleMaskLayerClickSkip({scenario:"photosensitive",group_id:de}),qe.h.open({content:G("photosensitive_skepped_toast"),duration:3,widthType:"half"}),rt.current=!0}}),[Ke,at,We,ot,de,G,D,O]),ut=t===i+1?D:ue();return(0,n.jsx)(n.Fragment,{children:Ze&&(0,n.jsxs)($,{children:[(0,n.jsxs)(J,Object.assign({onClick:ut},{children:[(0,n.jsx)(H,{style:{backgroundImage:`url(${Pe})`}},void 0),(0,n.jsx)(Y,{},void 0),Re&&(0,n.jsx)(K,{},void 0)]}),void 0),(0,n.jsxs)(ee,Object.assign({onMouseMove:P,onWheel:C,ref:g,className:"swiper-area",onClick:w},{children:[(0,n.jsx)(fe.S,{poster:Pe,lazyLoading:!1,horizontal:Le,mode:3,ref:Ee?v:null,desc:ce,id:de,playUrl:Se,index:i,itemMute:Boolean(ke),duration:Me,bitrateInfo:De,teaParams:x,onVideoError:I,onTimeUpdate:S,e2eTag:"swipermode-video",disableDownload:Ce||0!==we,volumeInfo:Oe},de),Be&&(0,n.jsx)(re,{children:(0,n.jsx)(be.p,{info:null==je?void 0:je[0]},void 0)},void 0),(0,n.jsxs)(te,{children:[(0,n.jsx)(ae,{children:(0,n.jsx)(St,{onLinkClick:T,isPaused:a,active:Ee,id:de,index:t},void 0)},void 0),(0,n.jsx)(Ni,{currentCanPlay:null!==(W=null===(R=v.current)||void 0===R?void 0:R.currentCanPlay)&&void 0!==W&&W,showExpandIcon:U,seek:b,videoId:de,isActive:Ee,pause:a,mouseMoving:h,onTogglePlay:E,onOpenBrowserMode:st,videoRef:v,progressReportCallback:j,progressPreviewReportCallback:k},void 0)]},void 0),(0,n.jsxs)(ie,Object.assign({onClick:xe.UW},{children:[(0,n.jsx)(Hi,{currentIndex:t,totalLength:null!==(V=d.length)&&void 0!==V?V:0,onClickPrev:O,onClickNext:D},void 0),(0,n.jsx)(ki,{itemId:de,isPaused:a,onLinkClick:T,onClickComment:L},void 0)]}),void 0),a&&(0,n.jsx)(ne,{fill:"#fff",width:72,height:72},void 0)]}),void 0),(0,n.jsx)(oe,Object.assign({ref:Ee?m:null,onWheel:xe.UW,isActive:c},{children:(0,n.jsx)(Fe,{onClickLink:T,isOpen:c,isActive:Ee,onClose:B,itemListKey:p,teaParams:f,currentIndex:i,commentCount:null!==(A=null==_e?void 0:_e.commentCount)&&void 0!==A?A:0},void 0)}),void 0),l&&Ee&&(0,n.jsx)(le,{children:(0,n.jsx)(se,{children:q},void 0)},void 0),nt&&(0,n.jsx)(Hi,{currentIndex:t,totalLength:null!==(F=d.length)&&void 0!==F?F:0,onClickPrev:O,onClickNext:D,style:{position:"absolute",zIndex:1,right:z?"unset":"16px",left:z?"16px":"unset",top:"50%",transform:"translateY(-50%)"}},void 0),nt&&(0,n.jsx)(Ge.a,{playMode:3,icon:Xe,title:Je,desc:Qe,firstButtonText:et,secondButtonText:tt,onClickFirstButton:dt,onClickSecondButton:ct},void 0)]},void 0)},void 0)})),Ki=(e,t)=>{let i=0;const o=e.slice(Math.max(e.length-t,1));for(const e of o)i+=e;return Math.ceil(i/t)},Ji=(0,s.memo)((function({itemListKey:e,onHitBottom:t=d.Z,teaParams:i}){const[o,T]=(0,s.useState)(0),[M,D]=(0,s.useState)(0),[O,L]=(0,s.useState)(!1),[B,E]=(0,s.useState)(!1),[Z,R]=(0,s.useState)(!1),W=(0,s.useRef)(!1),V=(0,s.useRef)(),A=(0,s.useRef)(null),F=(0,s.useRef)(null),G=(0,s.useRef)("scroll"),z=(0,s.useRef)(null),N=(0,s.useRef)(0),U=(0,s.useRef)([]),H=(0,s.useRef)(-1),Y=(0,s.useRef)((new Date).getTime()),K=(0,s.useRef)(!1),[J,Q]=(0,r.b7)(m.f,{selector:e=>e.playProgress,dependencies:[]}),[{currentIndex:X},ee]=(0,r.b7)(I._),{browserList:te,hasMore:ie}=(0,r.mp)(h.h,{selector:t=>{const i=t[null!=e?e:""];return i?{browserList:i.browserList,hasMore:i.hasMore}:{browserList:[],hasMore:!1}},dependencies:[e]}),[{itemList:oe,currentItem:ne},ae]=(0,r.b7)(g.A,{selector:e=>{var t;return{itemList:te.map((t=>e[t])),currentItem:null!==(t=e[te[X]])&&void 0!==t?t:{}}},dependencies:[te,X]}),re=X===te.length-1&&!ie,{video:le={},authorId:se="",id:de="",scheduleTime:ce}=null!=ne?ne:{},{bitrate:ue=-1,encodedType:pe="",format:me="",videoQuality:he="",encodeUserTag:ge="",codecType:ve="",definition:xe=""}=null!=le?le:{},fe=(0,s.useMemo)((()=>[c.N1,c.Gk]),[]),be=(0,s.useMemo)((()=>({keyboard:!0})),[]),ye=(0,s.useMemo)((()=>Object.assign({author_id:se,group_id:de,is_scheduled:Boolean(ce),bitrate:Number(ue),encodedType:pe,format:me,videoQuality:he,encodeUserTag:ge,codecType:ve,definition:xe},i)),[se,ue,ve,xe,ge,pe,me,de,ce,i,he]);(0,s.useEffect)((()=>{te.length-X<4&&ie&&setTimeout((()=>{null==t||t()}),50)}),[te.length,X,ie,oe.length,t]),(0,s.useEffect)((()=>{L(!0)}),[]),(0,v.$v)(3);const ke=(0,s.useCallback)((e=>{V.current=e}),[]),je=(0,s.useCallback)((()=>{E(!0),W.current=!0}),[]),_e=(0,s.useCallback)(((e="click")=>{ae.postLikeVideo(Object.assign({id:de,enter_method:e},i))}),[ae,de,i]),we=(0,x.X)({action:_e,modalConfig:{query:{enter_method:"click_like"}}}),{handleLinkClick:Ce,handleWheel:Pe,handleNextVideoStart:Se,handlePrevVideoStart:Ie,handleNextVideoEnd:Te,handlePrevVideoEnd:Me,handleKeyDown:De,handleVideoClick:Oe,handleClickSwitchToNext:Le,handleClickSwitchToPrev:Be,handleTogglePlay:Ee,videoPlayerRef:Ze,showLeaveModal:Re,isInputEmpty:We,handleConfirmLeave:Ve,handleCancelLeave:Ae,commentActive:Fe,handleCloseCommentPanel:Ge,handleToggleCommentPanel:ze}=(0,S.q5)({pause:B,setPause:E,group_id:de,handleLikeClick:we,author_id:se,itemListKey:e,videoNumber:o,setVideoNumber:T,videoChangeMethodRef:G,swiperRef:V,teaParams:{play_mode:"large_video_mode",group_id:de,author_id:se}}),{progressReportCallback:Ne,progressPreviewReportCallback:qe}=(0,S.CE)({pause:B,videoPlayerRef:Ze,videoReportParams:ye}),{handleSlideClick:Ue,handleSlideKeydown:$e,handleSlideScroll:He}=(0,S.Xc)({videoChangeMethodRef:G,handleKeyDown:De}),Ye=(0,l.fz)(P.KF),Ke=(0,s.useCallback)((e=>{var t,i,o,n,a,r,l,s;const d=null!==(i=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.className)&&void 0!==i?i:"";if((null===(o=null==d?void 0:d.includes)||void 0===o?void 0:o.call(d,"Share"))||(null===(n=null==d?void 0:d.includes)||void 0===n?void 0:n.call(d,"Report")))return;He(),H.current&&clearTimeout(H.current),H.current=window.setTimeout((()=>{U.current=[]}),400);const c=(new Date).getTime(),u=e.wheelDelta||-e.deltaY||-e.detail,p=Math.max(-1,Math.min(1,u)),m=void 0!==e.wheelDeltaX||void 0!==e.deltaX,h=Math.abs(e.wheelDeltaX)<Math.abs(e.wheelDelta)||Math.abs(e.deltaX)<Math.abs(e.deltaY)||!m,g=c-Y.current;U.current=[...U.current,Math.abs(u)],Y.current=c,g>400&&1===U.current.length&&(Ye.handleUserChangeVideoOrPlayMode(),p<0?null===(a=V.current)||void 0===a||a.slideNext():null===(r=V.current)||void 0===r||r.slidePrev());const v=Ki(U.current,10)>Ki(U.current,40);v&&!K.current&&h&&(Ye.handleUserChangeVideoOrPlayMode(),p<0?null===(l=V.current)||void 0===l||l.slideNext():null===(s=V.current)||void 0===s||s.slidePrev(),K.current=!0),!v&&K.current&&h&&(K.current=!1)}),[He,Ye]);(0,S.HT)({swiperRef:V,videoPlayerRef:Ze}),(0,S.OG)({refScrollEl:z}),(0,S.PE)({setSwiperHeight:D});const Je=(0,r.qj)(f.M),Qe=(0,s.useCallback)((e=>{var t,i,o;const n=null===(t=Ze.current)||void 0===t?void 0:t.duration;Je.setVideoInfo({videoId:de,videoPercent:e,duration:n,currentTime:null!==(o=null===(i=Ze.current)||void 0===i?void 0:i.currentTime)&&void 0!==o?o:0})}),[de,Je,Ze]),Xe=(0,s.useCallback)((e=>{var t,i;null===(i=null===(t=Ze.current)||void 0===t?void 0:t.seek)||void 0===i||i.call(t,e)}),[Ze]);(0,s.useEffect)((()=>{var e,t;E(!1),Qe(0),null===(t=null===(e=Ze.current)||void 0===e?void 0:e.play)||void 0===t||t.call(e)}),[X,Qe,Ze]);const et=(0,s.useCallback)((()=>{Z?window.clearTimeout(N.current):R(!0),N.current=window.setTimeout((()=>{R(!1)}),2e3)}),[Z]),tt=(0,s.useCallback)(((e,t=0)=>{Q.updateVideo({currentVideo:{id:te[e],index:e,mode:3},playProgress:t})}),[te,Q]);(0,s.useEffect)((()=>{D(document.documentElement.clientHeight-60-56),ee.setItemListKey(e),tt(X)}),[tt,ee,e,X]),(0,s.useEffect)((()=>{ee.handleFirstVideo()}),[e]);const it=(0,s.useMemo)((()=>({height:O?"100%":"calc(100vh - 60px - 56px - 24px)",marginTop:"24px"})),[O]),ot=O?oe:oe.slice(0,3),[{mute:nt},{setMute:at,setVolume:rt}]=(0,r.b7)(b.x),lt=(0,s.useCallback)((()=>{var e,t;nt&&(at(null!==(e=y.Bv.getItem("muted"))&&void 0!==e?e:k.P[3].defaultMute),rt(null!==(t=y.Bv.getItem("volume"))&&void 0!==t?t:k.G))}),[nt,at,rt]);(0,s.useEffect)((()=>(window.addEventListener("keydown",lt),()=>{window.removeEventListener("keydown",lt)})),[lt]);const{itemListKey:st,currentIndex:dt}=(0,r.mp)(j.O),{isBrowserModeShowing:ct}=(0,s.useContext)(_._);return(0,s.useEffect)((()=>{if(ct&&0!==dt){const e=setTimeout((()=>{var e;null===(e=V.current)||void 0===e||e.slideTo(Math.max(0,dt))}),0);return()=>clearTimeout(e)}if(!ct){E(!1);const e=setTimeout((()=>{tt(X,J)}),0);return()=>clearTimeout(e)}}),[dt,ct,st,tt,X,Ze,J]),le?O?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.xB,{styles:a.iv`
          body {
            overscroll-behavior: none;
          }
        `},void 0),(0,n.jsx)("link",{rel:"stylesheet",href:u},void 0),(0,n.jsx)($,Object.assign({onWheel:Ke,ref:A},{children:(0,n.jsx)(p.t,Object.assign({modules:fe,slidesPerView:1,direction:"vertical",allowTouchMove:!1,style:{overflow:"visible"},onSwiper:ke,autoHeight:!0,speed:200,threshold:15,height:M,slideToClickedSlide:!0,preventInteractionOnTransition:!0,onClick:Ue,onKeyPress:$e,onWheel:He,onScroll:He,onSlideNextTransitionStart:Se,onSlideNextTransitionEnd:Te,onSlidePrevTransitionStart:Ie,onSlidePrevTransitionEnd:Me},be,{children:ot.map(((t,o)=>{if(!t)return null;const{id:a}=t;return(0,n.jsx)(p.o,Object.assign({style:it},{children:(0,n.jsx)(Yi,{item:t,index:o,itemList:oe,currentIndex:X,itemListKey:e,commentActive:Fe,containerStyle:it,showSwiper:O,reachEnd:re,onMouseMove:et,onWheel:Pe,commentAreaRef:F,onVideoClick:Oe,refScrollEl:z,pause:B,mouseMoving:Z,browserList:te,videoPlayerRef:Ze,videoReportParams:ye,teaParams:i,onTimeUpdate:Qe,seek:Xe,onVideoError:je,onTogglePlay:Ee,progressReportCallback:Ne,progressPreviewReportCallback:qe,onToggleCommentPanel:ze,onCloseCommentPanel:Ge,onClickSwitchToNext:Le,onClickSwitchToPrev:Be,onLinkClick:Ce},a)}),a)}))}),void 0)}),void 0),Re&&(0,n.jsx)(C.S,{visible:Re,needLeaveCheck:!We,onConfirmLeave:Ve,onCancelLeave:Ae},void 0),(0,n.jsx)(q,{},void 0)]},void 0):(0,n.jsx)($,{children:ot.map(((t,o)=>{if(!t)return null;const{id:a}=t;return(0,n.jsx)("div",Object.assign({style:it},{children:(0,n.jsx)(Yi,{item:t,index:o,itemList:oe,currentIndex:X,itemListKey:e,commentActive:Fe,containerStyle:it,showSwiper:O,reachEnd:re,onMouseMove:et,onWheel:Pe,commentAreaRef:F,onVideoClick:Oe,refScrollEl:z,pause:B,mouseMoving:Z,browserList:te,videoPlayerRef:Ze,videoReportParams:ye,teaParams:i,onTimeUpdate:Qe,seek:Xe,onVideoError:je,onTogglePlay:Ee,progressReportCallback:Ne,progressPreviewReportCallback:qe,onToggleCommentPanel:ze,onCloseCommentPanel:Ge,onClickSwitchToNext:Le,onClickSwitchToPrev:Be,onLinkClick:Ce},a)}),a)}))},void 0):(0,w.G)(["item.video"])}))},55104:(e,t,i)=>{i.d(t,{T:()=>m,S:()=>h});var o=i(11040),n=i(91051),a=i(8721),r=i(80537),l=i(30074),s=i(4139),d=i(27918);const c=(0,s.Z)("div",{target:"e1i7g6sf0"})({position:"relative",width:"100%",height:"100%",backdropFilter:"blur(64px)",display:"flex",alignItems:"center",justifyContent:"center",padding:"24px 24px 56px",boxSizing:"border-box",":after":{content:'""',display:"block",position:"absolute",width:"calc(100% - 48px)",height:"32px",left:"24px",bottom:0,background:"rgba(0, 0, 0, 0.5)",borderRadius:"4px 4px 0 0"}},"label:DivErrorWrapper;"),u=(0,s.Z)("div",{target:"e1i7g6sf1"})({width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"4px"},"label:DivErrorContentWrapper;"),p=(0,s.Z)("p",{target:"e1i7g6sf2"})((({theme:e})=>[(0,d.GI)({theme:e,typography:"P2",fontFamily:"Proxima"}),{color:"#FFF",marginBottom:"8px",width:"360px",textAlign:"center"}]),"label:PErrorDesc;"),m=(0,n.memo)((function(e){const t=(0,a.Q)(),i=t("webapp_feed_redesign_zerovideo"),l=t("webapp_feed_redesign_retry"),s=(0,n.useMemo)((()=>({width:"360px",height:"40px"})),[]);return(0,o.jsx)(c,{children:(0,o.jsxs)(u,{children:[(0,o.jsx)(p,{children:i},void 0),(0,o.jsx)(r.W,Object.assign({style:s,buttonTheme:"primary",onClick:e.onRefresh},{children:l}),void 0)]},void 0)},void 0)})),h=(0,n.memo)((function(){return(0,o.jsx)(c,{children:(0,o.jsx)(u,{children:(0,o.jsx)(l.g,{center:!0},void 0)},void 0)},void 0)}))}}]);