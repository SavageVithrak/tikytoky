"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8617],{47323:(e,t,n)=>{n.d(t,{ZP:()=>R});var r=n(79213),o=n(62848),u=n(91051),a=n(17220),i=n(80092),s={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},c=function(e){var t=e.children;return u.createElement(u.Fragment,null,u.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:s}),t,t&&u.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:s}))};c.propTypes={},c.defaultProps={children:null};var d=n(70969),l=(0,d.s)({},(function(e){return{target:e.target,currentTarget:e.currentTarget}})),f=(0,d.s)(),v=(0,d.s)(),m=(0,d._)({async:!0}),p=[],E=u.forwardRef((function(e,t){var n,r=u.useState(),c=r[0],d=r[1],v=u.useRef(),E=u.useRef(!1),g=u.useRef(null),b=e.children,h=e.disabled,F=e.noFocusGuards,w=e.persistentFocus,y=e.crossFrame,L=e.autoFocus,k=(e.allowTextSelection,e.group),x=e.className,A=e.whiteList,_=e.hasPositiveIndices,C=e.shards,D=void 0===C?p:C,I=e.as,O=void 0===I?"div":I,P=e.lockProps,T=void 0===P?{}:P,S=e.sideCar,Z=e.returnFocus,N=e.focusOptions,B=e.onActivation,M=e.onDeactivation,R=u.useState({})[0],G=u.useCallback((function(){g.current=g.current||document&&document.activeElement,v.current&&B&&B(v.current),E.current=!0}),[B]),U=u.useCallback((function(){E.current=!1,M&&M(v.current)}),[M]);(0,u.useEffect)((function(){h||(g.current=null)}),[]);var j=u.useCallback((function(e){var t=g.current;if(t&&t.focus){var n="function"==typeof Z?Z(t):Z;if(n){var r="object"==typeof n?n:void 0;g.current=null,e?Promise.resolve().then((function(){return t.focus(r)})):t.focus(r)}}}),[Z]),H=u.useCallback((function(e){E.current&&l.useMedium(e)}),[]),K=f.useMedium,q=u.useCallback((function(e){v.current!==e&&(v.current=e,d(e))}),[]),z=(0,o.Z)(((n={})[a.ZO]=h&&"disabled",n[a.Sk]=k,n),T),J=!0!==F,Q=J&&"tail"!==F,V=(0,i.q)([t,q]);return u.createElement(u.Fragment,null,J&&[u.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:h?-1:0,style:s}),_?u.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:h?-1:1,style:s}):null],!h&&u.createElement(S,{id:R,sideCar:m,observed:c,disabled:h,persistentFocus:w,crossFrame:y,autoFocus:L,whiteList:A,shards:D,onActivation:G,onDeactivation:U,returnFocus:j,focusOptions:N}),u.createElement(O,(0,o.Z)({ref:V},z,{className:x,onBlur:K,onFocus:H}),b),Q&&u.createElement("div",{"data-focus-guard":!0,tabIndex:h?-1:0,style:s}))}));E.propTypes={},E.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const g=E;var b=n(14255),h=n(2437),F=n(82989),w=n(60535),y=n(4313);function L(e){var t=window.setImmediate;void 0!==t?t(e):setTimeout(e,1)}var k=null,x=null,A=null,_=!1,C=function(){return!0};function D(e,t,n,r){var o=null,u=e;do{var a=r[u];if(a.guard)a.node.dataset.focusAutoGuard&&(o=a);else{if(!a.lockItem)break;if(u!==e)return;o=null}}while((u+=n)!==t);o&&(o.node.tabIndex=0)}var I=function(e){return e&&"current"in e?e.current:e},O=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},P=function(){var e,t=!1;if(k){var n=k,r=n.observed,o=n.persistentFocus,u=n.autoFocus,a=n.shards,i=n.crossFrame,s=n.focusOptions,c=r||A&&A.portaledElement,d=document&&document.activeElement;if(c){var l=[c].concat(a.map(I).filter(Boolean));if(d&&!function(e){return(k.whiteList||C)(e)}(d)||(o||(i?Boolean(_):"meanwhile"===_)||!(document&&document.activeElement===document.body||(0,F.U)())||!x&&u)&&(c&&!((0,w.S)(l)||d&&function(e,t){return t.some((function(t){return O(e,t,t)}))}(d,l)||(e=d,A&&A.portaledElement===e))&&(document&&!x&&d&&!u?(d.blur&&d.blur(),document.body.focus()):(t=(0,h.ZP)(l,x,{focusOptions:s}),A={})),_=!1,x=document&&document.activeElement),document){var f=document&&document.activeElement,v=(0,y.E)(l),m=v.map((function(e){return e.node})).indexOf(f);m>-1&&(v.filter((function(e){var t=e.guard,n=e.node;return t&&n.dataset.focusAutoGuard})).forEach((function(e){return e.node.removeAttribute("tabIndex")})),D(m,v.length,1,v),D(m,-1,-1,v))}}}return t},T=function(e){P()&&e&&(e.stopPropagation(),e.preventDefault())},S=function(){return L(P)},Z=function(){_="just",setTimeout((function(){_="meanwhile"}),0)};l.assignSyncMedium((function(e){var t=e.target,n=e.currentTarget;n.contains(t)||(A={observerNode:n,portaledElement:t})})),f.assignMedium(S),v.assignMedium((function(e){return e({moveFocusInside:h.ZP,focusInside:w.S})}));const N=(0,b.Z)((function(e){return e.filter((function(e){return!e.disabled}))}),(function(e){var t=e.slice(-1)[0];t&&!k&&(document.addEventListener("focusin",T),document.addEventListener("focusout",S),window.addEventListener("blur",Z));var n=k,r=n&&t&&t.id===n.id;k=t,n&&!r&&(n.onDeactivation(),e.filter((function(e){return e.id===n.id})).length||n.returnFocus(!t)),t?(x=null,r&&n.observed===t.observed||t.onActivation(),P(),L(P)):(document.removeEventListener("focusin",T),document.removeEventListener("focusout",S),window.removeEventListener("blur",Z),x=null)}))((function(){return null}));var B=u.forwardRef((function(e,t){return u.createElement(g,(0,o.Z)({sideCar:N,ref:t},e))})),M=g.propTypes||{};M.sideCar,(0,r.Z)(M,["sideCar"]),B.propTypes={};const R=B}}]);